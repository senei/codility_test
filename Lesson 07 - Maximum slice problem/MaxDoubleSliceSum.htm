<!DOCTYPE html>
<html>

<head>
    <title>MaxDoubleSliceSum - codility</title>
    <meta charset="UTF-8">
    <meta name="description" content="Given a log of stock prices compute the maximum possible earning.">
    <meta name="author" content="senei">
</head>

<script type="text/javascript">
function solution(A) {
    var i, n = A.length;

    if (n == 3) return 0;

    var max_sum_end = Array.apply(null, new Array(n)).map(function() {
        return 0;
    });
    var max_sum_start = Array.apply(null, new Array(n)).map(function() {
        return 0;
    });

    for (i = 1; i < (n - 1); i++) {
        max_sum_end[i] = Math.max(0, max_sum_end[i - 1] + A[i]);
    }
    for (i = n - 2; i > 0; i--) {
        max_sum_start[i] = Math.max(0, max_sum_start[i + 1] + A[i]);
    }

    var maxvalue = 0,
        temp;

    for (i = 1; i < (n - 1); i++) {
        temp = max_sum_end[i - 1] + max_sum_start[i + 1];
        if (temp > maxvalue) maxvalue = temp;
    }

    return maxvalue;
}
</script>

<body>
    <p>Task name: MaxDoubleSliceSum
        <br/>Given a log of stock prices compute the maximum possible earning.</p>
    <br/>
    <a href="https://codility.com/programmers/lessons/7">codility.com/programmers/lessons/7</a>
    <br/>
    <p>A non-empty zero-indexed array A consisting of N integers is given.</p>
    <p>
        A triplet (X, Y, Z), such that 0 ≤ X &lt; Y &lt; Z &lt; N, is called a double slice.</p>
    <p>The sum of double slice (X, Y, Z) is the total of A[X + 1] + A[X + 2] + ... + A[Y − 1] + A[Y + 1] + A[Y + 2] + ... + A[Z − 1].</p>
    <p>For example, array A such that:</p>
    <code>A[0] = 3
        <br/>A[1] = 2
        <br/>A[2] = 6
        <br/>A[3] = -1
        <br/>A[4] = 4
        <br/>A[5] = 5
        <br/>A[6] = -1
        <br/>A[7] = 2</code>
    <p>contains the following example double slices: double slice (0, 3, 6), sum is 2 + 6 + 4 + 5 = 17, double slice (0, 3, 7), sum is 2 + 6 + 4 + 5 − 1 = 16,</p>
    <code>double slice (3, 4, 5), sum is 0.</code>
    <p>The goal is to find the maximal sum of any double slice.</p>
    <p>Write a function:</p>
    <code>int solution(int A[], int N);</code>
    <p>that, given a non-empty zero-indexed array A consisting of N integers, returns the maximal sum of any double slice.</p>
    <p>For example, given:</p>
    <code>A[0] = 3
        <br/>A[1] = 2
        <br/>A[2] = 6
        <br/>A[3] = -1
        <br/>A[4] = 4
        <br/>A[5] = 5
        <br/>A[6] = -1
        <br/>A[7] = 2</code>
    <p>the function should return 17, because no double slice of array A has a sum of greater than 17.</p>


</body>

</html>
